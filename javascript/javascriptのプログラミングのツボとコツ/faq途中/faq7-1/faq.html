<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>よくある質問</title>
  <link rel="stylesheet" href="style.css">
  <script>
    window.onload = init;
    function init(){
      var buttons = document.getElementsByTagName('button');
      buttons.item(0).onclick = allOpen;
      buttons.item(1).onclick = allClose;
    }

    function allChange(mode){
      var answers = document.getElementsByTagName('dd');
      for (var i = 0; i < answers.length; i++) {
        answers.item(i).className = mode;
      }
    }

    function allOpen(){
      allChange('open');
    }

    function allClose(){
      allChange('close');
    }

    function toggleAnswer(num){
      var answers = document.getElementsByTagName('dd');
      if (answers.item(num).className === 'open') {
        answers.item(num).className = 'close';
      } else {
        answers.item(num).className = 'open';
      }
    }

    function addStar(num){
      var star = document.createElement('img');
      star.src = 'star.png';
      var elms = document.getElementsByClassName('evaluate');
      elms.item(num).appendChild(star);
    }

    function removeStar(num){
      var elms = document.getElementsByClassName('evaluate');
      var elm = elms.item(num);
      if(elm.lastChild.nodeName==='IMG'){
        elm.removeChild(elm.lastChild);
      }
    }
  </script>
</head>
<body>
  <div id="wrapper">
    <h1>よくある質問</h1>
    <p>質問をクリックすると、回答が表示されます。</p>
    <button>すべて開く</button>
    <button>すべて閉じる</button>
    <dl>
      <dt onclick="toggleAnswer(0);">支払い方法は？</dt>
      <dd class="close">
        <p>各種クレジットカード、電子マネー、コンビニ払い、銀行振込、郵便振替に対応しています。</p>
        <div class="evaluate">
          役に立ちましたか？<a href="#" onclick="addStar(0);">はい</a>&nbsp;<a href="#" onclick="removeStar(0);">いいえ</a><br />
        </div>
      </dd>
      <dt onclick="toggleAnswer(1);">キャンセル料は？</dt>
      <dd class="close">
        <p>キャンセル料は14日前まで無料、13日～7日前は30％、6日前～2日前は50％、1日前～当日は100％になります。なお、主催者都合および大規模な自然災害によるキャンセルについては、キャンセル料は一切いただきません。</p>
        <div class="evaluate">
          役に立ちましたか？<a href="#" onclick="addStar(1);">はい</a>&nbsp;<a href="#" onclick="removeStar(1);">いいえ</a><br />
        </div>
      </dd>
      <dt onclick="toggleAnswer(2);">予約内容を変更するには？</dt>
      <dd class="close">
        <p>ご予約完了後にお送りしたメール記載のURLをWebブラウザーで開き、IDとパスワードを入力してログインし、変更手続きを行って下さい。</p>
        <div class="evaluate">
          役に立ちましたか？<a href="#" onclick="addStar(2);">はい</a>&nbsp;<a href="#" onclick="removeStar(2);">いいえ</a><br />
        </div>
      </dd>
    </dl>
  </div>
</body>
</html>